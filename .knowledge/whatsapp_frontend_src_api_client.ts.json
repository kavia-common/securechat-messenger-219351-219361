{"is_source_file": true, "format": "TypeScript", "description": "This file defines an API client module for a secure chat application, providing methods to authenticate, manage users, chats, messages, media uploads, and push notifications via HTTP requests to a backend server.", "external_files": ["../config", "../storage", "../types"], "external_methods": ["storage.getToken()", "fetch()"], "published": ["api"], "classes": [], "methods": [{"name": "async function request<T>(path: string, method: HttpMethod = 'GET', body?: unknown, extraHeaders/ request", "description": "Performs an HTTP request with specified method, path, body, and headers, handling JSON serialization and error management.", "scope": "", "scopeKind": ""}, {"name": "login", "description": "Authenticates a user with email and password to receive a token and user info."}, {"name": "register", "description": "Registers a new user with name, email, and password."}, {"name": "me", "description": "Retrieves the current user's profile information."}, {"name": "listChats", "description": "Lists all chat conversations for the current user."}, {"name": "getMessages", "description": "Fetches messages from a specific chat with pagination controls."}, {"name": "sendMessage", "description": "Sends a message (text or media URL) within a specified chat."}, {"name": "listContacts", "description": "Lists the user's contacts."}, {"name": "searchUsers", "description": "Searches for users by query string to add as contacts."}, {"name": "addContact", "description": "Creates or retrieves a direct conversation with another user, returning contact info."}, {"name": "uploadMedia", "description": "Uploads media files and returns an accessible URL."}, {"name": "registerPushToken", "description": "Registers push notification tokens for the user."}], "calls": ["storage.getToken()", "fetch()"], "search-terms": ["client API", "chat messages", "media upload", "push notification", "auth endpoints", "contacts management"], "state": 2, "file_id": 10, "knowledge_revision": 77, "git_revision": "351a54e214f9554be6d8c5ee5a56b787657e4076", "revision_history": [{"21": ""}, {"51": ""}, {"77": "351a54e214f9554be6d8c5ee5a56b787657e4076"}], "ctags": [{"_type": "tag", "name": "HttpMethod", "path": "/home/kavia/workspace/code-generation/securechat-messenger-219351-219361/whatsapp_frontend/src/api/client.ts", "pattern": "/^type HttpMethod = 'GET' | 'POST' | 'PUT' | 'PATCH' | 'DELETE';$/", "language": "TypeScript", "kind": "alias"}, {"_type": "tag", "name": "SendMessagePayload", "path": "/home/kavia/workspace/code-generation/securechat-messenger-219351-219361/whatsapp_frontend/src/api/client.ts", "pattern": "/^type SendMessagePayload = { type: MessageType; content?: string; mediaUrl?: string };$/", "language": "TypeScript", "kind": "alias"}, {"_type": "tag", "name": "api", "path": "/home/kavia/workspace/code-generation/securechat-messenger-219351-219361/whatsapp_frontend/src/api/client.ts", "pattern": "/^export const api = {$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "data", "path": "/home/kavia/workspace/code-generation/securechat-messenger-219351-219361/whatsapp_frontend/src/api/client.ts", "pattern": "/^      const data = (await res.json()) as { message?: string };$/", "language": "TypeScript", "kind": "constant", "scope": "request", "scopeKind": "function"}, {"_type": "tag", "name": "headers", "path": "/home/kavia/workspace/code-generation/securechat-messenger-219351-219361/whatsapp_frontend/src/api/client.ts", "pattern": "/^  const headers: Record<string, string> = {$/", "language": "TypeScript", "kind": "constant", "scope": "request", "scopeKind": "function"}, {"_type": "tag", "name": "login", "path": "/home/kavia/workspace/code-generation/securechat-messenger-219351-219361/whatsapp_frontend/src/api/client.ts", "pattern": "/^  async login(email: string, password: string) {$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "msg", "path": "/home/kavia/workspace/code-generation/securechat-messenger-219351-219361/whatsapp_frontend/src/api/client.ts", "pattern": "/^    const msg = (await res.json()) as Message;$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "request", "path": "/home/kavia/workspace/code-generation/securechat-messenger-219351-219361/whatsapp_frontend/src/api/client.ts", "pattern": "/^async function request<T>(path: string, method: HttpMethod = 'GET', body?: unknown, extraHeaders/", "language": "TypeScript", "kind": "function"}, {"_type": "tag", "name": "res", "path": "/home/kavia/workspace/code-generation/securechat-messenger-219351-219361/whatsapp_frontend/src/api/client.ts", "pattern": "/^  const res = await fetch(`${CONFIG.API_BASE_URL}${path}`, {$/", "language": "TypeScript", "kind": "constant", "scope": "request", "scopeKind": "function"}, {"_type": "tag", "name": "token", "path": "/home/kavia/workspace/code-generation/securechat-messenger-219351-219361/whatsapp_frontend/src/api/client.ts", "pattern": "/^  const token = await storage.getToken();$/", "language": "TypeScript", "kind": "constant", "scope": "request", "scopeKind": "function"}], "hash": "93386ab29ccaf0a0f3ff3ac306558efa", "format-version": 4, "code-base-name": "whatsapp_frontend", "filename": "whatsapp_frontend/src/api/client.ts"}