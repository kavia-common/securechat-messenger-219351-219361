{"is_source_file": true, "format": "TypeScript", "description": "This file provides API request functions for the client-side of a chat application, including user authentication, message handling, contact management, and media upload.", "external_files": ["../config", "../storage", "../types"], "external_methods": ["storage.getToken()"], "published": ["api"], "classes": [], "methods": [{"name": "async function request<T>(path: string, method: HttpMethod = 'GET', body?: unknown, extraHeaders/ request", "description": "Performs an HTTP request with specified method, path, body, and headers, returning parsed JSON data or throwing errors on failure.", "scope": "", "scopeKind": ""}, {"name": "api.login", "description": "Authenticates user with email and password, returns authentication response."}, {"name": "api.register", "description": "Registers a new user with name, email, and password, returns authentication response."}, {"name": "api.me", "description": "Fetches the current user's profile."}, {"name": "api.listChats", "description": "Retrieves a list of chats for the current user."}, {"name": "api.getMessages", "description": "Retrieves messages for a specific chat."}, {"name": "api.sendMessage", "description": "Sends a message in a specific chat."}, {"name": "api.listContacts", "description": "Lists contacts of the current user."}, {"name": "api.searchUsers", "description": "Searches for users based on a query string."}, {"name": "api.addContact", "description": "Adds a user as contact by user ID."}, {"name": "api.uploadMedia", "description": "Uploads media content and returns its URL."}], "calls": ["fetch", "storage.getToken", "JSON.stringify", "JSON.parse"], "search-terms": ["client-side API requests", "auth login", "send message", "media upload", "contacts management"], "state": 2, "file_id": 10, "knowledge_revision": 51, "git_revision": "", "revision_history": [{"21": ""}, {"51": ""}], "ctags": [{"_type": "tag", "name": "HttpMethod", "path": "/home/kavia/workspace/code-generation/securechat-messenger-219351-219361/whatsapp_frontend/src/api/client.ts", "pattern": "/^type HttpMethod = 'GET' | 'POST' | 'PUT' | 'PATCH' | 'DELETE';$/", "language": "TypeScript", "kind": "alias"}, {"_type": "tag", "name": "SendMessagePayload", "path": "/home/kavia/workspace/code-generation/securechat-messenger-219351-219361/whatsapp_frontend/src/api/client.ts", "pattern": "/^type SendMessagePayload = { type: MessageType; content?: string; mediaUrl?: string };$/", "language": "TypeScript", "kind": "alias"}, {"_type": "tag", "name": "api", "path": "/home/kavia/workspace/code-generation/securechat-messenger-219351-219361/whatsapp_frontend/src/api/client.ts", "pattern": "/^export const api = {$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "data", "path": "/home/kavia/workspace/code-generation/securechat-messenger-219351-219361/whatsapp_frontend/src/api/client.ts", "pattern": "/^      const data = (await res.json()) as { message?: string };$/", "language": "TypeScript", "kind": "constant", "scope": "request", "scopeKind": "function"}, {"_type": "tag", "name": "headers", "path": "/home/kavia/workspace/code-generation/securechat-messenger-219351-219361/whatsapp_frontend/src/api/client.ts", "pattern": "/^  const headers: Record<string, string> = {$/", "language": "TypeScript", "kind": "constant", "scope": "request", "scopeKind": "function"}, {"_type": "tag", "name": "login", "path": "/home/kavia/workspace/code-generation/securechat-messenger-219351-219361/whatsapp_frontend/src/api/client.ts", "pattern": "/^  async login(email: string, password: string) {$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "request", "path": "/home/kavia/workspace/code-generation/securechat-messenger-219351-219361/whatsapp_frontend/src/api/client.ts", "pattern": "/^async function request<T>(path: string, method: HttpMethod = 'GET', body?: unknown, extraHeaders/", "language": "TypeScript", "kind": "function"}, {"_type": "tag", "name": "res", "path": "/home/kavia/workspace/code-generation/securechat-messenger-219351-219361/whatsapp_frontend/src/api/client.ts", "pattern": "/^  const res = await fetch(`${CONFIG.API_BASE_URL}${path}`, {$/", "language": "TypeScript", "kind": "constant", "scope": "request", "scopeKind": "function"}, {"_type": "tag", "name": "token", "path": "/home/kavia/workspace/code-generation/securechat-messenger-219351-219361/whatsapp_frontend/src/api/client.ts", "pattern": "/^  const token = await storage.getToken();$/", "language": "TypeScript", "kind": "constant", "scope": "request", "scopeKind": "function"}], "hash": "0daf54138e84a0cd3c9ae04df697d93a", "format-version": 4, "code-base-name": "whatsapp_frontend", "filename": "whatsapp_frontend/src/api/client.ts"}