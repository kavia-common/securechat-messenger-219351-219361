{"is_source_file": true, "format": "TypeScript (TSX)", "description": "A React Native component implementing a chat interface, handling message display, sending text and images, socket event listeners, and UI rendering.", "external_files": ["../../theme/colors", "../../components/MessageBubble", "../../api/client", "../../ws/chatSocket", "../../services/notifications", "../../types"], "external_methods": ["api.getMessages", "api.sendMessage", "api.uploadMedia", "chatSocket.connect", "chatSocket.joinConversation", "chatSocket.leaveConversation", "chatSocket.addListener", "chatSocket.sendText", "showMessageNotification"], "published": ["ChatScreen"], "classes": [], "methods": [{"name": "ChatScreen", "description": "React functional component rendering chat interface, managing message state, socket connection, media attachment, and UI interactions."}, {"name": "onSendText", "description": "Handles sending of text message, tries WebSocket send first, then API fallback, and scrolls the message list."}, {"name": "onAttachImage", "description": "Handles image attachment process via media library permission, image picker, upload, and sending media message."}], "calls": ["api.getMessages", "api.sendMessage", "api.uploadMedia", "chatSocket.connect", "chatSocket.joinConversation", "chatSocket.leaveConversation", "chatSocket.addListener", "chatSocket.sendText", "showMessageNotification"], "search-terms": ["ChatScreen", "React.FC<Props>", "MessageBubble", "chatSocket", "onSendText", "onAttachImage", "useState", "useRef", "useEffect", "FlatList", "KeyboardAvoidingView"], "state": 2, "file_id": 20, "knowledge_revision": 104, "git_revision": "9f144a58faee820c350dff6ddd3bf152be99c11c", "revision_history": [{"41": ""}, {"59": ""}, {"61": ""}, {"79": "351a54e214f9554be6d8c5ee5a56b787657e4076"}, {"104": "9f144a58faee820c350dff6ddd3bf152be99c11c"}], "ctags": [], "hash": "6003c878aa5b8593ad43a8cf0b4e2d76", "format-version": 4, "code-base-name": "whatsapp_frontend", "filename": "whatsapp_frontend/src/screens/Chats/ChatScreen.tsx"}